<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Informes - Asociación de Mujeres Sembradoras de Paz</title>
  <style>
    /* Estilos para el informe */
    body {
      font-family: Arial, sans-serif;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
    }
    .button {
      padding: 10px 20px;
      margin-right: 10px;
      cursor: pointer;
      background-color: #007bff;
      color: #fff;
      border: none;
      border-radius: 5px;
    }
    .button:hover {
      background-color: #0056b3;
    }
    #informe {
      margin-top: 20px;
    }
    table {
      border-collapse: collapse;
      width: 100%;
    }
    th, td {
      border: 1px solid #dddddd;
      text-align: left;
      padding: 8px;
    }
    th {
      background-color: #f2f2f2;
    }
  </style>
</head>
<body>

<div class="container">
  <h2>Informes</h2>

  <button class="button" onclick="window.location.href='index.html'">Inicio</button>
  <button class="button" onclick="generarInforme('usuarios')">Usuarios</button>
  <button class="button" onclick="generarInforme('gastos')">Gastos</button>
  <button class="button" onclick="generarInforme('pagos')">Pagos</button>
  <button class="button" onclick="generarInforme('dinero_disponible')">Dinero Disponible</button>

  <div id="informe"></div>
</div>

<script>
  // Función para generar el informe y mostrarlo en la página
  function generarInforme(tipo) {
    var contenido = '';

    switch (tipo) {
      case 'usuarios':
        contenido = generarInformeUsuarios();
        break;
      case 'gastos':
        contenido = generarInformeGastos();
        break;
      case 'pagos':
        contenido = generarInformePagos();
        break;
      case 'dinero_disponible':
        contenido = generarInformeDineroDisponible();
        break;
      default:
        contenido = 'Tipo de informe no válido';
    }

    // Mostrar el contenido del informe en el área designada
    document.getElementById('informe').innerHTML = contenido;
  }

  // Función para obtener la lista de usuarios desde el almacenamiento local
  function obtenerUsuarios() {
    var usuarios = localStorage.getItem('usuarios');
    return usuarios ? JSON.parse(usuarios) : [];
  }

  // Función para obtener la lista de gastos desde el almacenamiento local
  function obtenerGastos() {
    var gastos = localStorage.getItem('gastos');
    return gastos ? JSON.parse(gastos) : [];
  }

  // Función para obtener la lista de pagos desde el almacenamiento local
  function obtenerPagos() {
    var pagos = localStorage.getItem('pagos');
    return pagos ? JSON.parse(pagos) : [];
  }

  // Función para generar el informe de usuarios
  function generarInformeUsuarios() {
    var usuarios = obtenerUsuarios();
    var contenido = '<h3>Usuarios Registrados</h3>';
    contenido += '<table>';
    contenido += '<tr><th>Cédula</th><th>Nombre</th></tr>';
    usuarios.forEach(function(usuario) {
      contenido += '<tr><td>' + usuario.cc + '</td><td>' + usuario.nombre + '</td></tr>';
    });
    contenido += '</table>';
    return contenido;
  }

  // Función para generar el informe de gastos
  function generarInformeGastos() {
    var gastos = obtenerGastos();
    var contenido = '<h3>Informe de Gastos</h3>';
    contenido += '<table>';
    contenido += '<tr><th>Fecha</th><th>Detalle</th><th>Valor</th></tr>';
    gastos.forEach(function(gasto) {
      contenido += '<tr><td>' + gasto.fecha + '</td><td>' + gasto.detalle + '</td><td>' + gasto.valor + '</td></tr>';
    });
    contenido += '</table>';
    return contenido;
  }

  // Función para generar el informe de pagos
  function generarInformePagos() {
    var pagos = obtenerPagos();
    var contenido = '<h3>Informe de Pagos</h3>';
    contenido += '<table>';
    contenido += '<tr><th>Fecha</th><th>Asociado</th><th>Valor</th></tr>';
    pagos.forEach(function(pago) {
      contenido += '<tr><td>' + pago.fecha + '</td><td>' + pago.asociado + '</td><td>' + pago.valor + '</td></tr>';
    });
    contenido += '</table>';
    return contenido;
  }

  // Función para calcular el dinero disponible
  function calcularDineroDisponible() {
    // Aquí puedes calcular el dinero disponible utilizando los datos de pagos y gastos
    var pagos = obtenerPagos();
    var totalPagos = pagos.reduce(function(total, pago) {
      return total + pago.valor;
    }, 0);

    var gastos = obtenerGastos();
    var totalGastos = gastos.reduce(function(total, gasto) {
      return total + gasto.valor;
    }, 0);

    return totalPagos - totalGastos;
  }

  // Función para generar el informe de dinero disponible
  function generarInformeDineroDisponible() {
    var dineroDisponible = calcularDineroDisponible();
    var contenido = '<h3>Informe de Dinero Disponible</h3>';
    contenido += '<p>Dinero Disponible: $' + dineroDisponible + '</p>';
    return contenido;
  }
</script>
</body>
</html>
